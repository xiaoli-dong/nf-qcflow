{
    "@context": [
        "https://w3id.org/ro/crate/1.1/context",
        {
            "GithubService": "https://w3id.org/ro/terms/test#GithubService",
            "JenkinsService": "https://w3id.org/ro/terms/test#JenkinsService",
            "PlanemoEngine": "https://w3id.org/ro/terms/test#PlanemoEngine",
            "TestDefinition": "https://w3id.org/ro/terms/test#TestDefinition",
            "TestInstance": "https://w3id.org/ro/terms/test#TestInstance",
            "TestService": "https://w3id.org/ro/terms/test#TestService",
            "TestSuite": "https://w3id.org/ro/terms/test#TestSuite",
            "TravisService": "https://w3id.org/ro/terms/test#TravisService",
            "definition": "https://w3id.org/ro/terms/test#definition",
            "engineVersion": "https://w3id.org/ro/terms/test#engineVersion",
            "instance": "https://w3id.org/ro/terms/test#instance",
            "resource": "https://w3id.org/ro/terms/test#resource",
            "runsOn": "https://w3id.org/ro/terms/test#runsOn"
        }
    ],
    "@graph": [
        {
            "@id": "./",
            "@type": "Dataset",
            "creativeWorkStatus": "InProgress",
            "datePublished": "2025-09-25T16:26:48+00:00",
            "description": "# nf-qcflow\n\nA comprehensive Nextflow bioinformatics pipeline for next-generation sequencing (NGS) data quality processing. nf-qcflow performs quality control, host sequence removal, contamination screening, and generates detailed statistical reports in both tabular and HTML formats. The pipeline supports both Illumina short-read and Oxford Nanopore long-read sequencing platforms.\nA MetaErg analysis output demo page can be found at: [nf-qcflow_output_demo](https://github.com/xiaoli-dong/nf-qcflow/tree/main/demo) page\n\n---\n\n## Pipeline Summary\n\nnf-qcflow supports both short and long reads:\n\n### Short Reads Quality Check and Quality Control\n\n- Short Illumina reads quality checks ([FastQC](https://www.bioinformatics.babraham.ac.uk/projects/fastqc/))\n- Short read quality control ([BBDuk](https://jgi.doe.gov/data-and-tools/software-tools/bbtools/bb-tools-user-guide/bbduk-guide/) | [fastp](https://github.com/OpenGene/fastp))\n- Dehost ([hostile](https://github.com/bede/hostile) | [deacon](https://github.com/dcdanko/deacon))\n- Taxonomic assignment and contamination check ([Kraken2](https://ccb.jhu.edu/software/kraken2/) & [Bracken](https://ccb.jhu.edu/software/bracken/))\n- Short read statistics ([seqkit stats](https://bioinf.shenwei.me/seqkit/usage/#stats))\n- Tabular and HTML reports\n\n### Long Reads Quality Check and Quality Control\n\n- Nanopore long read quality checks ([NanoPlot](https://github.com/wdecoster/NanoPlot))\n- Nanopore long read adapter trimming, quality and length filtering:\n  - **Porechop + Chopper**\n    - Adapter removal ([Porechop](https://github.com/rrwick/Porechop))\n    - Quality and length filter ([chopper](https://github.com/wdecoster/chopper))\n  - **fastplong** - Ultrafast preprocessing and quality control ([fastplong](https://github.com/OpenGene/fastplong))\n- Dehost ([hostile](https://github.com/bede/hostile) | [deacon](https://github.com/dcdanko/deacon))\n- Taxonomic assignment and contamination check ([Kraken2](https://ccb.jhu.edu/software/kraken2/) & [Bracken](https://ccb.jhu.edu/software/bracken/))\n- Nanopore long read statistics ([seqkit stats](https://bioinf.shenwei.me/seqkit/usage/#stats))\n- Tabular and HTML reports\n\n---\n\n## Quick Start\n\n> [!NOTE]\n> If you are new to Nextflow and nf-core, please refer to [this page](https://nf-co.re/docs/usage/installation) on how to set up Nextflow. Make sure to [test your setup](https://nf-co.re/docs/usage/introduction#how-to-run-a-pipeline) with `-profile test` before running the workflow on actual data.\n\n### Check Workflow Options\n\nPlease clone nf-qcflow from gitHub to your local computer. To check the pipeline command-line options:\n\n```bash\nnextflow run path_to/nf-qcflow/main --help\n```\n\n### Prepare Required Samplesheet Input\n\nThe nf-qcflow pipeline requires a CSV format samplesheet containing sequence information for each sample. See below for what the samplesheet looks like:\n\n**samplesheet.csv**\n\n```csv\nsample,fastq_1,fastq_2,long_fastq\nsample_paired_short_long,shortreads_1.fastq.gz,shortreads_2.fastq.gz,longreads.fastq.gz\nsample_single_short_long,shortreads.fastq,NA,longreads.fastq.gz\nsample_only_long,NA,NA,longreads.fastq.gz\n```\n\n**Samplesheet Format Requirements:**\n\n- The first row of the CSV file is the header describing the columns\n- Each row represents a unique sample to be processed; the first column is the unique sample ID\n- When information for a particular column is missing, fill the column with `NA`\n- The `fastq_1` and `fastq_2` columns are reserved for supplying the short sequence files\n- The `long_fastq` column is reserved for supplying the long sequence file\n\n### Run the Pipeline\n\nNow you can run the pipeline using:\n\n**For Illumina data:**\n\n```bash\n# run locally\nnextflow run path_to/nf-qcflow \\\n  -profile singularity \\\n  --input samplesheet.csv \\\n  --platform illumina \\\n  --outdir results \\\n  -resume\n# run on HPC cluster with slurm\nnextflow run path_to/nf-qcflow \\\n  -profile singularity,slurm \\\n  --input samplesheet.csv \\\n  --platform illumina \\\n  --outdir results \\\n  -resume\n```\n\n**For Nanopore data:**\n\n```bash\n# run locally\nnextflow run path_to/nf-qcflow \\\n  -profile singularity \\\n  --input samplesheet.csv \\\n  --platform nanopore \\\n  --outdir results \\\n  -resume\n# run on HPC cluster with slurm\nnextflow run path_to/nf-qcflow \\\n  -profile singularity,slurm \\\n  --input samplesheet.csv \\\n  --platform nanopore \\\n  --outdir results \\\n  -resume\n```\n\n> [!IMPORTANT]\n> Please provide pipeline parameters via the CLI or Nextflow `-params-file` option. Custom config files including those provided by the `-c` Nextflow option can be used to provide any configuration **except for parameters**. See [documentation](https://nf-co.re/docs/usage/getting_started/configuration#custom-configuration-files) for more details.\n\n---\n\n## Command-Line Options\n\n### Input/Output Options\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| `--input` | string | Path to CSV file containing information about the samples |\n| `--outdir` | string | Output directory where results will be saved (use absolute paths for cloud storage) |\n\n### General Parameters\n\n| Parameter | Type | Default | Description |\n|-----------|------|---------|-------------|\n| `--platform` | string | `illumina` | Sequencing platform (`illumina` or `nanopore`) |\n| `--skip_dehost` | boolean | `false` | Skip the dehosting step |\n| `--dehoster` | string | `deacon` | Dehosting tool to use (`deacon` or `hostile`) |\n| `--short_qc_tool` | string | `fastp` | Short read QC tool (`fastp` or `bbduk`) |\n| `--long_qc_tool` | string | `fastplong` | Long read QC tool (`fastplong` or `porechop_chopper`) |\n| `--contaminants_fa` | string | - | Path to custom contaminants FASTA file |\n| `--publish_dir_mode` | string | `copy` | Method for publishing results |\n\n### Database Parameters\n\n| Parameter | Type | Default | Description |\n|-----------|------|---------|-------------|\n| `--kraken2_db` | string | `/your_path_to/kraken2_db` | Path to Kraken2 database |\n| `--deacon_refdb` | string | `/your_path_to/deacon_db` | Path to deacon reference database |\n| `--hostile_ref_dir` | string | `/your_path_to/hostile2_db_dir` | Path to hostile reference directory |\n| `--hostile_refdb_short` | string | `human-t2t-hla.argos-bacteria-985_rs-viral-202401_ml-phage-202401` | Hostile reference for short reads |\n| `--hostile_refdb_long` | string | `human-t2t-hla.argos-bacteria-985_rs-viral-202401_ml-phage-202401.mmi` | Hostile reference for long reads |\n\n### Help Options\n\n| Parameter | Description |\n|-----------|-------------|\n| `--help` | Show help for all top-level parameters (can specify a parameter for detailed help) |\n| `--help_full` | Show help for all non-hidden parameters |\n| `--show_hidden` | Show hidden parameters (use with `--help` or `--help_full`) |\n\n---\n\n## Workflow Overview\n\n```\nInput Reads (FASTQ)\n    \u2193\nQuality Assessment\n  \u2022 Short reads: FastQC\n  \u2022 Long reads: NanoPlot\n    \u2193\nQuality Control & Trimming\n  \u2022 Short reads: fastp or BBDuk\n  \u2022 Long reads: fastplong or Porechop+Chopper\n    \u2193\nHost Sequence Removal (deacon or hostile) [optional]\n    \u2193\nTaxonomic Classification (Kraken2 & Bracken)\n    \u2193\nRead Statistics (seqkit)\n    \u2193\nSummary Reports (tabular & HTML)\n    \u2193\nFinal QC Outputs\n```\n<!--\n---\n\n## Output Structure\n\n```\nresults/\n\u251c\u2500\u2500 fastqc/              # FastQC reports (Illumina)\n\u251c\u2500\u2500 nanoplot/            # NanoPlot reports (Nanopore)\n\u251c\u2500\u2500 qc/                  # Quality-controlled reads\n\u251c\u2500\u2500 dehost/              # Dehosted reads (if applicable)\n\u251c\u2500\u2500 kraken2/             # Kraken2 taxonomic classification results\n\u251c\u2500\u2500 bracken/             # Bracken abundance estimation results\n\u251c\u2500\u2500 stats/               # Read statistics\n\u2514\u2500\u2500 reports/             # Summary reports (HTML and tabular)\n```\n-->\n---\n\n## Database Requirements\n\nnf-qcflow requires several databases to be downloaded and configured:\n\n### Kraken2 Database\n```bash\n# Download a pre-built Kraken2 database\n# Standard databases available at: https://benlangmead.github.io/aws-indexes/k2\nwget https://genome-idx.s3.amazonaws.com/kraken/k2_standard_16gb_20250402.tar.gz\ntar -xvzf k2_standard_16gb_20250402.tar.gz\n\n```\n\n### Deacon Database\n```bash\n# Download deacon reference database\n# Visit: https://github.com/dcdanko/deacon for instructions\n```\n\n### Hostile Database\n```bash\n# Hostile databases are downloaded automatically on first use\n# Or download manually from: https://github.com/bede/hostile\n```\n\nProvide database paths using the respective parameters (e.g., `--kraken2_db`, `--deacon_refdb`, `--hostile_ref_dir`).\n\n---\n\n## Tool References\n\nThis pipeline uses the following tools:\n\n- [**FastQC**](https://www.bioinformatics.babraham.ac.uk/projects/fastqc/) - Quality control for high throughput sequence data\n- [**fastp**](https://github.com/OpenGene/fastp) - Ultra-fast all-in-one FASTQ preprocessor\n- [**BBDuk**](https://jgi.doe.gov/data-and-tools/software-tools/bbtools/bb-tools-user-guide/bbduk-guide/) - Kmer-based quality and adapter trimming\n- [**NanoPlot**](https://github.com/wdecoster/NanoPlot) - Plotting tools for long read sequencing data\n- [**Porechop**](https://github.com/rrwick/Porechop) - Adapter trimmer for Oxford Nanopore reads\n- [**Chopper**](https://github.com/wdecoster/chopper) - Quality and length filtering for long reads\n- [**fastplong**](https://github.com/OpenGene/fastplong) - Ultra-fast preprocessing for long reads\n- [**hostile**](https://github.com/bede/hostile) - Fast host removal tool\n- [**deacon**](https://github.com/dcdanko/deacon) - Decontamination of sequencing data\n- [**Kraken2**](https://ccb.jhu.edu/software/kraken2/) - Taxonomic sequence classification\n- [**Bracken**](https://ccb.jhu.edu/software/bracken/) - Bayesian re-estimation of abundance with Kraken\n- [**seqkit**](https://bioinf.shenwei.me/seqkit/) - Cross-platform toolkit for FASTA/Q file manipulation\n\n---\n\n## Citations\n\nIf you use nf-qcflow in your research, please cite the appropriate tools:\n\n- **FastQC** - Andrews, S. (2010). FastQC: A Quality Control Tool for High Throughput Sequence Data.\n- **fastp** - Chen, S., Zhou, Y., Chen, Y., & Gu, J. (2018). fastp: an ultra-fast all-in-one FASTQ preprocessor. *Bioinformatics*, 34(17), i884-i890.\n- **NanoPlot** - De Coster, W., D'Hert, S., Schultz, D. T., Cruts, M., & Van Broeckhoven, C. (2018). NanoPack: visualizing and processing long-read sequencing data. *Bioinformatics*, 34(15), 2666-2669.\n- **Chopper** - De Coster, W., & Rademakers, R. (2023). NanoPack2: population-scale evaluation of long-read sequencing data. *Bioinformatics*, 39(5), btad311.\n- **hostile** - Bede, P. (2023). hostile: accurate decontamination of microbial sequences. *Journal of Open Source Software*.\n- **Kraken2** - Wood, D. E., Lu, J., & Langmead, B. (2019). Improved metagenomic analysis with Kraken 2. *Genome Biology*, 20(1), 257.\n- **Bracken** - Lu, J., Breitwieser, F. P., Thielen, P., & Salzberg, S. L. (2017). Bracken: estimating species abundance in metagenomics data. *PeerJ Computer Science*, 3, e104.\n- **seqkit** - Shen, W., Le, S., Li, Y., & Hu, F. (2016). SeqKit: A Cross-Platform and Ultrafast Toolkit for FASTA/Q File Manipulation. *PLOS ONE*, 11(10), e0163962.\n\n---\n\n## Credits\n\nnf-qcflow was originally written by Xiaoli Dong.\n\n## Support\n\nFor issues, questions, or feature requests, please [open an issue](https://github.com/xiaoli-dong/nf-qcflow/issues) on GitHub.\n\n## License\n\nThis project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.\n",
            "hasPart": [
                {
                    "@id": "main.nf"
                },
                {
                    "@id": "assets/"
                },
                {
                    "@id": "conf/"
                },
                {
                    "@id": "docs/"
                },
                {
                    "@id": "modules/"
                },
                {
                    "@id": "modules/local/"
                },
                {
                    "@id": "workflows/"
                },
                {
                    "@id": "subworkflows/"
                },
                {
                    "@id": "nextflow.config"
                },
                {
                    "@id": "README.md"
                },
                {
                    "@id": "nextflow_schema.json"
                },
                {
                    "@id": "CHANGELOG.md"
                },
                {
                    "@id": "LICENSE"
                },
                {
                    "@id": "CITATIONS.md"
                },
                {
                    "@id": "modules.json"
                },
                {
                    "@id": "docs/usage.md"
                },
                {
                    "@id": "docs/output.md"
                },
                {
                    "@id": ".nf-core.yml"
                },
                {
                    "@id": ".pre-commit-config.yaml"
                },
                {
                    "@id": ".prettierignore"
                }
            ],
            "isBasedOn": "https://github.com/xiaoli-dong/qcflow",
            "license": "MIT",
            "mainEntity": {
                "@id": "main.nf"
            },
            "mentions": [
                {
                    "@id": "#3cb487f9-8794-45d3-aa1d-f848f292e279"
                }
            ],
            "name": "xiaoli-dong/qcflow"
        },
        {
            "@id": "ro-crate-metadata.json",
            "@type": "CreativeWork",
            "about": {
                "@id": "./"
            },
            "conformsTo": [
                {
                    "@id": "https://w3id.org/ro/crate/1.1"
                },
                {
                    "@id": "https://w3id.org/workflowhub/workflow-ro-crate/1.0"
                }
            ]
        },
        {
            "@id": "main.nf",
            "@type": [
                "File",
                "SoftwareSourceCode",
                "ComputationalWorkflow"
            ],
            "dateCreated": "",
            "dateModified": "2025-09-25T10:26:48Z",
            "dct:conformsTo": "https://bioschemas.org/profiles/ComputationalWorkflow/1.0-RELEASE/",
            "keywords": [
                "nf-core",
                "nextflow"
            ],
            "license": [
                "MIT"
            ],
            "name": [
                "xiaoli-dong/qcflow"
            ],
            "programmingLanguage": {
                "@id": "https://w3id.org/workflowhub/workflow-ro-crate#nextflow"
            },
            "sdPublisher": {
                "@id": "https://nf-co.re/"
            },
            "url": [
                "https://github.com/xiaoli-dong/qcflow",
                "https://nf-co.re/xiaoli-dong/qcflow/dev/"
            ],
            "version": [
                "1.0.0dev"
            ]
        },
        {
            "@id": "https://w3id.org/workflowhub/workflow-ro-crate#nextflow",
            "@type": "ComputerLanguage",
            "identifier": {
                "@id": "https://www.nextflow.io/"
            },
            "name": "Nextflow",
            "url": {
                "@id": "https://www.nextflow.io/"
            },
            "version": "!>=24.10.5"
        },
        {
            "@id": "#3cb487f9-8794-45d3-aa1d-f848f292e279",
            "@type": "TestSuite",
            "instance": [
                {
                    "@id": "#0e39460e-f275-4f97-ae40-54be6125fd42"
                }
            ],
            "mainEntity": {
                "@id": "main.nf"
            },
            "name": "Test suite for xiaoli-dong/qcflow"
        },
        {
            "@id": "#0e39460e-f275-4f97-ae40-54be6125fd42",
            "@type": "TestInstance",
            "name": "GitHub Actions workflow for testing xiaoli-dong/qcflow",
            "resource": "repos/xiaoli-dong/qcflow/actions/workflows/nf-test.yml",
            "runsOn": {
                "@id": "https://w3id.org/ro/terms/test#GithubService"
            },
            "url": "https://api.github.com"
        },
        {
            "@id": "https://w3id.org/ro/terms/test#GithubService",
            "@type": "TestService",
            "name": "Github Actions",
            "url": {
                "@id": "https://github.com"
            }
        },
        {
            "@id": "assets/",
            "@type": "Dataset",
            "description": "Additional files"
        },
        {
            "@id": "conf/",
            "@type": "Dataset",
            "description": "Configuration files"
        },
        {
            "@id": "docs/",
            "@type": "Dataset",
            "description": "Markdown files for documenting the pipeline"
        },
        {
            "@id": "modules/",
            "@type": "Dataset",
            "description": "Modules used by the pipeline"
        },
        {
            "@id": "modules/local/",
            "@type": "Dataset",
            "description": "nf-core modules"
        },
        {
            "@id": "workflows/",
            "@type": "Dataset",
            "description": "Main pipeline workflows to be executed in main.nf"
        },
        {
            "@id": "subworkflows/",
            "@type": "Dataset",
            "description": "Smaller subworkflows"
        },
        {
            "@id": "nextflow.config",
            "@type": "File",
            "description": "Main Nextflow configuration file"
        },
        {
            "@id": "README.md",
            "@type": "File",
            "description": "Basic pipeline usage information"
        },
        {
            "@id": "nextflow_schema.json",
            "@type": "File",
            "description": "JSON schema for pipeline parameter specification"
        },
        {
            "@id": "CHANGELOG.md",
            "@type": "File",
            "description": "Information on changes made to the pipeline"
        },
        {
            "@id": "LICENSE",
            "@type": "File",
            "description": "The license - should be MIT"
        },
        {
            "@id": "CITATIONS.md",
            "@type": "File",
            "description": "Citations needed when using the pipeline"
        },
        {
            "@id": "modules.json",
            "@type": "File",
            "description": "Version information for modules from nf-core/modules"
        },
        {
            "@id": "docs/usage.md",
            "@type": "File",
            "description": "Usage documentation"
        },
        {
            "@id": "docs/output.md",
            "@type": "File",
            "description": "Output documentation"
        },
        {
            "@id": ".nf-core.yml",
            "@type": "File",
            "description": "nf-core configuration file, configuring template features and linting rules"
        },
        {
            "@id": ".pre-commit-config.yaml",
            "@type": "File",
            "description": "Configuration file for pre-commit hooks"
        },
        {
            "@id": ".prettierignore",
            "@type": "File",
            "description": "Ignore file for prettier"
        },
        {
            "@id": "https://nf-co.re/",
            "@type": "Organization",
            "name": "nf-core",
            "url": "https://nf-co.re/"
        }
    ]
}